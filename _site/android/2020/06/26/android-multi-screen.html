<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="http://127.0.0.1:4000/static/img/favicon.ico" />
    <title>[android] Multi screen use smallestWidth - Learn and share</title>
    <meta name="author" content="bachvanthe1994" />
    <meta name="description" content="[android] Multi screen use smallestWidth" />
    <meta name="keywords" content="[android] Multi screen use smallestWidth, Learn and share, android" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://127.0.0.1:4000/feed.xml">
    <meta content="1749788565247320" property="fb:app_id">
    <meta content="Learn and share" property="og:site_name">

    

    
      <meta content="[android] Multi screen use smallestWidth" property="og:title">
      <meta content="article" property="og:type">
    

    
      <meta content="I write about all problems or experiences that I have." property="og:description">
    

    
      <meta content="http://127.0.0.1:4000/android/2020/06/26/android-multi-screen.html" property="og:url">
    

    
      <meta content="2020-06-26T16:33:23+07:00" property="article:published_time">
      <meta content="http://127.0.0.1:4000/about/" property="article:author">
    

    

    
      
        <meta content="android" property="article:section">
      
    

    
      
    

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@github.io">
    <meta name="twitter:creator" content="@github.io">

    
      <meta name="twitter:title" content="[android] Multi screen use smallestWidth">
    

    
      <meta name="twitter:url" content="http://127.0.0.1:4000/android/2020/06/26/android-multi-screen.html">
    

    
      <meta name="twitter:description" content="I write about all problems or experiences that I have.">
    

    

    <!-- Font awesome icons -->
    <link href="http://127.0.0.1:4000/static/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="http://127.0.0.1:4000/static/css/syntax.css">
    <!-- Bootstrap core CSS -->
    <link href="http://127.0.0.1:4000/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,300italic,300,400italic,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="http://127.0.0.1:4000/static/css/super-search.css">
    <link rel="stylesheet" href="http://127.0.0.1:4000/static/css/thickbox.css">
    <link rel="stylesheet" href="http://127.0.0.1:4000/static/css/projects.css">
    <link rel="stylesheet" href="http://127.0.0.1:4000/static/css/main.css">

    
  </head>
  <body>
    <div class="container">
      <div class="col-sm-3">
        <div class="fixed-condition">
          <h1 class="author-name"><a href="http://127.0.0.1:4000">bachvanthe1994</a></h1>
          
            <div class="profile-about">
              I'm a Programmer. I have experiences about Mobile application development iOS, React-native, Android. At the moment. On this website, I write about all problems or experiences that I have.
            </div>
          
          <div class="social">
            <ul>
              
                <li><a href="https://www.facebook.com/taulathe/" target="_blank"><i class="fa fa-facebook"></i></a></li>
              
                <li><a href="https://github.com/bachvanthe1994/" target="_blank"><i class="fa fa-github"></i></a></li>
              
            </ul>
          </div>
          <div class="search" id="js-search">
            <input type="text" placeholder="(sitemap)~$ type to search" class="search__input form-control" id="js-search__input">
            <ul class="search__results" id="js-search__results"></ul>
          </div>
          <hr />
          <ul class="sidebar-nav">
            <strong>Navigation</strong>
            <li><a href="http://127.0.0.1:4000">Home</a></li>
            
              <li><a class="about" href="http://127.0.0.1:4000/about/">About Me</a></li>
            
              <li><a class="about" href="http://127.0.0.1:4000/projects/">My Projects</a></li>
            
              <li><a class="about" href="http://127.0.0.1:4000/feed.xml">XML Feed</a></li>
            
          </ul>
        </div>
        <!-- end /.fixed-condition -->
      </div>
      <div class="col-sm-8 col-offset-1 main-layout">
        <header class="post-header">
  <h1 class="post-title">[android] Multi screen use smallestWidth</h1>
</header>

<span class="time">26 Jun 2020</span>

  <span class="categories">
    &raquo; <a href="/category/android">android</a>
  </span>


<div class="content">
  <div class="post"><p><img src="/static/img/posts/sdp_example.png" style="width: 400px;" /></p>

<p><strong>So what is smallestWidth ?</strong>
<br />
Theo 1 cách hiểu đơn giản nhất đó là:</p>

<p>Mỗi màn hình điện thoại sẽ ứng với 1 thư mục swdp khác nhau. Hệ thống sẽ tự select vào thư mục resource đó. Bằng cách lấy giá trị nhỏ nhất giữa chiều dài và chiều rộng của máy (đơn vị dp). Sau khi tính xong sẽ so sánh với các thư mục trong resource, nếu giá trị đó gần nhất với nào (theo chiều giảm dần, nếu min = 360dp thì nó sẽ chỉ check các thư mục có nhỏ hơn hoạc bằng 360dp) thì sẽ chọn thư mục đó làm nguồn.</p>

<p>Vd ta có:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>res/layout-sw480dp/
res/layout-sw320dp/
res/layout-sw300dp/
</code></pre></div></div>

<p>Nếu giá trị mà hệ thống tính được</p>

<p>min = 320dp, vậy hệ thống sẽ chọn res/layout-sw320dp/
<br />
min = 470dp, vậy hệ thống sẽ chọn res/layout-sw320dp/
<br />
min = 490dp, vậy hệ thống sẽ chọn res/layout-sw480dp/
<br />
Vậy làm sao biết màn hình này nó sẽ lấy thư mục nào ?</p>

<p>Ta sẽ phải tính min(height, width) <em>tức là gia trị nhỏ nhất trong height và width</em>. Sau khi tính xong, ta sẽ quy đổi nó sang giá trị là dp. Và sau khi tính xong bạn đã biết màn hình này sẽ phù hợp với thư mục nào rồi đó.</p>

<p>Tại sao lại dùng cách này để multi screen ?</p>

<p>Vì mỗi màn hình lại có mật độ dp khác nhau <em>1dp = ? px theo từng màn hình, từ đó ta sẽ biết được màn hình đó có giá trị width và height bằng bao nhiêu dp</em></p>

<p>Vd: ta có các màn hình có tỉ lệ width:height (giá trị là dp) là:</p>

<p>A: 320×533(dp)
B: 360×592(dp)</p>

<p>Và bạn có 1 layout có width = 320dp</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;LinearLayout</span>
   <span class="na">android:layout_width=</span><span class="s">"320dp"</span>
   <span class="na">android:layout_height=</span><span class="s">"100dp"</span><span class="nt">&gt;&lt;/LinearLayout&gt;</span>
</code></pre></div></div>

<p>Tất nhiên khi chạy máy A thì nó sẽ đổ đầy chiều with của màn hình, tuy nhiên khi sang máy B thì nó lại bỉ thừ 1 khoảng là 360 – 320 = 40dp !-__-)</p>

<p>Vậy để khác phục điều này ta sẽ tạo ra 2 thư mục đó là:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>res/values-sw320dp/
res/values-sw360dp/
</code></pre></div></div>

<p>Sau đó ở 2 thư mục tạo 1 file dimens.xml</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>res/values-sw320dp/dimens.xml
res/values-sw360dp/dimens.xml
</code></pre></div></div>

<p>Ta sẽ tạo 1 key ở trong file dimens.xml</p>

<p>Với thư mục:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sw320dp: <span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">"size_layout"</span><span class="nt">&gt;</span>320dp<span class="nt">&lt;/dimen&gt;</span>
sw360dp: <span class="nt">&lt;dimen</span> <span class="na">name=</span><span class="s">"size_layout"</span><span class="nt">&gt;</span>360dp<span class="nt">&lt;/dimen&gt;</span>
</code></pre></div></div>

<p>Ta sẽ sửa file layout để sử dụng theo theo resource @dimen</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;LinearLayout</span>
   <span class="na">android:layout_width=</span><span class="s">"@dimen/size_layout"</span>
   <span class="na">android:layout_height=</span><span class="s">"100dp"</span><span class="nt">&gt;&lt;/LinearLayout&gt;</span>
</code></pre></div></div>

<p>Và giờ hãy xem 2 màn hình:</p>

<p>Qua bài viết này hy vọng các bạn hiểu được phần nào làm sao để support multi screen sử dụng cách mà bài viết đã nêu. Thanks</p>

<p>Chia sẻ 1 project mà 1 user đã tính cho chúng ta rồi, hỗ trợ rất nhiều các màn hình</p>

<p><a href="https://github.com/intuit/sdp">https://github.com/intuit/sdp</a></p>
</div>
  <div class="share-page">
  <span style="float: left;">Share this on &rarr;&nbsp;&nbsp;</span>

  <!-- Twitter -->
  <a href="https://twitter.com/share" class="twitter-share-button" data-via="github.io">Tweet</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  <!-- Facebook -->
  <div class="fb-share-button" data-href="http://127.0.0.1:4000/android/2020/06/26/android-multi-screen.html" data-layout="button_count" style="position: relative; top: -8px; left: 3px;"></div>
</div>

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=1749788565247320";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

</div>


  
    
      
        
          
      
    
  
  

<div class="PageNavigation">
  
  
</div>

<!-- <div class="disqus-comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* <![CDATA[ */
    var disqus_shortname = "thebv";
    var disqus_identifier = "http://127.0.0.1:4000_[android] Multi screen use smallestWidth";
    var disqus_title = "[android] Multi screen use smallestWidth";

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    /* ]]> */
  </script>
</div> -->

        <footer>
          &copy; bachvanthe1994
          
            - <a href="https://github.com/bachvanthe1994">https://github.com/bachvanthe1994</a> - Powered by Jekyll.
          
        </footer>
      </div>
      <!-- end /.col-sm-8 -->
    </div>
    <!-- end /.container -->

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script src="http://127.0.0.1:4000/static/js/bootstrap.min.js"></script>
    <script src="http://127.0.0.1:4000/static/js/super-search.js"></script>
    <script src="http://127.0.0.1:4000/static/js/thickbox-compressed.js"></script>
    <script src="http://127.0.0.1:4000/static/js/projects.js"></script>
  </body>
</html>

